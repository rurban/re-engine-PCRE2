{"version":1,"ops":[{"type":1,"author":{"id":"5435141a73302fae7cf7a526794e1018ba2157ae"},"timestamp":1493804869,"metadata":{"github-id":"MDU6SXNzdWUyMjU5MzI4NzI=","github-url":"https://github.com/rurban/re-engine-PCRE2/issues/26","origin":"github"},"title":"multi-pattern SEGV","message":"```\nperl -Dr -Mblib -Mre::engine::PCRE2 -e'\n${^RE_DEBUG_FLAGS}=0xff;\nmy $re1 = qr/foo/;\nmy $re2 = qr/bar/;\n\"foobar\" =~ /$re1$re2/'\n```\nPCRE2 op_comp: multi pattern 2. fallback to core\nSegmentation fault: 11\nin Assembling pattern from 2 elements S_concat_pat()\nwith at least one part of the pattern being a plugin pattern, not a core pattern.\n\nsee PR #25 \n\nthe single pattern variant works fine, it doesn't need to fall-back. but this needs to check the\nplugin source of the pattern. It is only valid for a PCRE2 pattern.\n```\n${^RE_DEBUG_FLAGS}=0xff;\nmy $re1 = qr/foo/;\n\"foobar\" =~ /$re1/'\n```\n\ne.g.:\n```\n${^RE_DEBUG_FLAGS}=0xff;\nmy $re1;\n{ use re::engine::RE2; $re1 = qr/foo/; }\n\"foobar\" =~ /$re1/'\n```","files":null}]}