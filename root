{"version":1,"ops":[{"type":1,"author":{"id":"aef584d35767ca3a7a454b62a1a488f95f4439e6"},"timestamp":1592901522,"metadata":{"github-id":"MDU6SXNzdWU2NDM2NDUwMzk=","github-url":"https://github.com/rurban/re-engine-PCRE2/issues/37","origin":"github"},"title":"t/s.t fails and crashes with Perl 5.32.0 randomly","message":"After upgrading Perl from 5.30.3 to 5.32.0 I observe random failures in t/s.t test:\n\n~~~~\nt/s.t ..................... 1/10 \n#   Failed test 's/.//g; 'abc' =\u003e '''\n#   at t/s.t line 14.\n#          got: 'c'\n#     expected: ''\n\n#   Failed test 's/./1+1/eg; 'abc' =\u003e '222''\n#   at t/s.t line 34.\n#          got: '22c'\n#     expected: '222'\n\n#   Failed test 's/(.)/$1+1/eg; '123' =\u003e '234''\n#   at t/s.t line 42.\n#          got: '233'\n#     expected: '234'\n# Looks like you failed 3 tests of 10.\nt/s.t ..................... Dubious, test returned 3 (wstat 768, 0x300)\nFailed 3/10 subtests \n~~~~\n\nor crashes:\n\n~~~~\n1..10\nok 1 - s/a//; 'ab' =\u003e 'b'\nok 2 - s/.//g; 'abc' =\u003e ''\nok 3 - s/.//g; 'abcd' =\u003e ''\nok 4 - s/.//g; 'abcdefg' =\u003e ''\nok 5 - s/..//g; 'aabbc' =\u003e 'c'\nok 6 - s/./1+1/eg; 'a' =\u003e '2'\nok 7 - s/./1+1/eg; 'abc' =\u003e '222'\nok 8 - s/(.)/$1+1/eg; '3' =\u003e '4'\nok 9 - s/(.)/$1+1/eg; '123' =\u003e '234'\nok 10 - s/([0-9]+)/$1*2/e; 'abc123xyz' =\u003e ''abc246xyz'\nfree(): invalid size\nAborted (core dumped)\n~~~~\n\nor:\n\n~~~~\n1..10\nok 1 - s/a//; 'ab' =\u003e 'b'\nok 2 - s/.//g; 'abc' =\u003e ''\nok 3 - s/.//g; 'abcd' =\u003e ''\nok 4 - s/.//g; 'abcdefg' =\u003e ''\nok 5 - s/..//g; 'aabbc' =\u003e 'c'\nok 6 - s/./1+1/eg; 'a' =\u003e '2'\nok 7 - s/./1+1/eg; 'abc' =\u003e '222'\nok 8 - s/(.)/$1+1/eg; '3' =\u003e '4'\nok 9 - s/(.)/$1+1/eg; '123' =\u003e '234'\nok 10 - s/([0-9]+)/$1*2/e; 'abc123xyz' =\u003e ''abc246xyz'\nfree(): invalid pointer\nAborted (core dumped)\n~~~~\n\nThis smells like a failure in a memory management.","files":null}]}