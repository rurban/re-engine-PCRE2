{"version":1,"ops":[{"type":1,"author":{"id":"5435141a73302fae7cf7a526794e1018ba2157ae"},"timestamp":1491721920,"metadata":{"github-id":"MDU6SXNzdWUyMjA0NTM0MDg=","github-url":"https://github.com/rurban/re-engine-PCRE2/issues/15","origin":"github"},"title":"unicode: add UTF flag if subject is UTF","message":"if the pattern is not UTF8 (but ambivalent with \\D\\W...) \nbut the subject is, recompile with UTF and match.\n\nfailing re_tests:\n```\n\\w\t\\x{200C}\typ\t$\u0026\t\\x{200C}\n\\W\t\\x{200C}\tnp\t-\t-\n\\w\t\\x{200D}\typ\t$\u0026\t\\x{200D}\n\\W\t\\x{200D}\tnp\t-\t-\n\n/^\\D{11}/a\t\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\tnp\t-\t-\n/^\\S{11}/a\t\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\tnp\t-\t-\n/^\\W{11}/a\t\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\\x{10FFFF}\tnp\t-\t-\n\n# [ perl #114272]\n\\Vn\t\\xFFn/\typ\t$\u0026\t\\xFFn\n\na?\\X\t     a\\x{100}\typ\t$\u0026\ta\\x{100}\n```","files":null}]}